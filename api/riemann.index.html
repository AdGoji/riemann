<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>riemann.index documentation</title></head><body><div id="header"><h1><a href="index.html">Riemann 0.0.3-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3>Namespaces</h3><ul><li><a href="riemann.bin.html">riemann.bin</a></li><li><a href="riemann.client.html">riemann.client</a></li><li><a href="riemann.common.html">riemann.common</a></li><li><a href="riemann.config.html">riemann.config</a></li><li><a href="riemann.core.html">riemann.core</a></li><li><a href="riemann.email.html">riemann.email</a></li><li><a href="riemann.folds.html">riemann.folds</a></li><li><a href="riemann.graphite.html">riemann.graphite</a></li><li class="current"><a href="riemann.index.html">riemann.index</a></li><li><a href="riemann.logging.html">riemann.logging</a></li><li><a href="riemann.query.html">riemann.query</a></li><li><a href="riemann.server.html">riemann.server</a></li><li><a href="riemann.streams.html">riemann.streams</a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="riemann.index.html#var-clear">clear</a></li><li><a href="riemann.index.html#var-delete">delete</a></li><li><a href="riemann.index.html#var-delete-exactly">delete-exactly</a></li><li><a href="riemann.index.html#var-expire">expire</a></li><li><a href="riemann.index.html#var-index">index</a></li><li><a href="riemann.index.html#var-nbhm-index">nbhm-index</a></li><li><a href="riemann.index.html#var-search">search</a></li><li><a href="riemann.index.html#var-update">update</a></li></ul></div><div class="namespace-docs" id="content"><h2>riemann.index documentation</h2><pre class="doc">Maintains a stateful index of events by [host, service] key. Can be queried
to return the most recent indexed events matching some expression. Can expire
events which have exceeded their TTL. Presently the only implementation of
the index protocol is backed by a nonblockinghashmap, but I plan to add an
HSQLDB backend as well.</pre><div class="public" id="var-clear"><h3>clear</h3><div class="usage"><code>(clear this)</code></div><pre class="doc">Resets the index
</pre></div><div class="public" id="var-delete"><h3>delete</h3><div class="usage"><code>(delete this event)</code></div><pre class="doc">Deletes any event with this host &amp; service from index
</pre></div><div class="public" id="var-delete-exactly"><h3>delete-exactly</h3><div class="usage"><code>(delete-exactly this event)</code></div><pre class="doc">Deletes event from index
</pre></div><div class="public" id="var-expire"><h3>expire</h3><div class="usage"><code>(expire this)</code></div><pre class="doc">Return a seq of expired states from this index, removing each.
</pre></div><div class="public" id="var-index"><h3>index</h3><div class="usage"><code>(index)</code></div><pre class="doc">Create a new index (currently: an nhbm index)
</pre></div><div class="public" id="var-nbhm-index"><h3>nbhm-index</h3><div class="usage"><code>(nbhm-index)</code></div><pre class="doc">Create a new nonblockinghashmap backed index
</pre></div><div class="public" id="var-search"><h3>search</h3><div class="usage"><code>(search this query-ast)</code></div><pre class="doc">Returns a seq of events from the index matching this query AST
</pre></div><div class="public" id="var-update"><h3>update</h3><div class="usage"><code>(update this event)</code></div><pre class="doc">Updates index with event
</pre></div></div></body></html>