<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>riemann.common documentation</title></head><body><div id="header"><h1><a href="index.html">Riemann 0.1.2 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3>Namespaces</h3><ul><li><a href="riemann.bin.html">riemann.bin</a></li><li><a href="riemann.client.html">riemann.client</a></li><li class="current"><a href="riemann.common.html">riemann.common</a></li><li><a href="riemann.config.html">riemann.config</a></li><li><a href="riemann.core.html">riemann.core</a></li><li><a href="riemann.email.html">riemann.email</a></li><li><a href="riemann.folds.html">riemann.folds</a></li><li><a href="riemann.graphite.html">riemann.graphite</a></li><li><a href="riemann.index.html">riemann.index</a></li><li><a href="riemann.logging.html">riemann.logging</a></li><li><a href="riemann.pagerduty.html">riemann.pagerduty</a></li><li><a href="riemann.periodic.html">riemann.periodic</a></li><li><a href="riemann.pubsub.html">riemann.pubsub</a></li><li><a href="riemann.query.html">riemann.query</a></li><li><a href="riemann.server.html">riemann.server</a></li><li><a href="riemann.streams.html">riemann.streams</a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="riemann.common.html#var-approx-equal">approx-equal</a></li><li><a href="riemann.common.html#var-decode">decode</a></li><li><a href="riemann.common.html#var-decode-inputstream">decode-inputstream</a></li><li><a href="riemann.common.html#var-decode-pb-event">decode-pb-event</a></li><li><a href="riemann.common.html#var-decode-pb-msg">decode-pb-msg</a></li><li><a href="riemann.common.html#var-decode-pb-query">decode-pb-query</a></li><li><a href="riemann.common.html#var-disjoint%3F">disjoint?</a></li><li><a href="riemann.common.html#var-encode">encode</a></li><li><a href="riemann.common.html#var-event">event</a></li><li><a href="riemann.common.html#var-event-to-json">event-to-json</a></li><li><a href="riemann.common.html#var-linear-time">linear-time</a></li><li><a href="riemann.common.html#var-member%3F">member?</a></li><li><a href="riemann.common.html#var-overlap%3F">overlap?</a></li><li><a href="riemann.common.html#var-post-load-event">post-load-event</a></li><li><a href="riemann.common.html#var-pre-dump-event">pre-dump-event</a></li><li><a href="riemann.common.html#var-re-matches%3F">re-matches?</a></li><li><a href="riemann.common.html#var-subset%3F">subset?</a></li><li><a href="riemann.common.html#var-time-at">time-at</a></li><li><a href="riemann.common.html#var-unix-time">unix-time</a></li><li><a href="riemann.common.html#var-unix-to-iso8601">unix-to-iso8601</a></li></ul></div><div class="namespace-docs" id="content"><h2>riemann.common documentation</h2><pre class="doc">Utility functions. Time/date, some flow control constructs, protocol buffer
definitions and codecs, some vector set ops, etc.</pre><div class="public" id="var-approx-equal"><h3>approx-equal</h3><div class="usage"><code>(approx-equal x y)</code><code>(approx-equal x y tol)</code></div><pre class="doc">Returns true if x and y are roughly equal, such that x/y is within tol of
unity.</pre></div><div class="public" id="var-decode"><h3>decode</h3><div class="usage"><code>(decode s)</code></div><pre class="doc">Decode a gloss buffer to a message. Decodes the protocol buffer
representation of Msg and applies post-load-event to all events.</pre></div><div class="public" id="var-decode-inputstream"><h3>decode-inputstream</h3><div class="usage"><code>(decode-inputstream s)</code></div><pre class="doc">Decode an InputStream to a message. Decodes the protobuf representation of
Msg and applies post-load-event to all events.</pre></div><div class="public" id="var-decode-pb-event"><h3>decode-pb-event</h3><div class="usage"><code>(decode-pb-event e)</code></div><pre class="doc">Transforms a java protobuf Event to a map.
</pre></div><div class="public" id="var-decode-pb-msg"><h3>decode-pb-msg</h3><div class="usage"><code>(decode-pb-msg m)</code></div><pre class="doc">Transforms a java protobuf Msg to a map.
</pre></div><div class="public" id="var-decode-pb-query"><h3>decode-pb-query</h3><div class="usage"><code>(decode-pb-query q)</code></div><pre class="doc">Transforms a java protobuf Query to a map.
</pre></div><div class="public" id="var-disjoint%3F"><h3>disjoint?</h3><div class="usage"><code>(disjoint? a b)</code></div><pre class="doc">Do a and b (any seqables) have no elements in common?
</pre></div><div class="public" id="var-encode"><h3>encode</h3><div class="usage"><code>(encode msg)</code></div><pre class="doc">Builds and dumps a protobuf message from a hash. Applies pre-dump-event to
events.</pre></div><div class="public" id="var-event"><h3>event</h3><div class="usage"><code>(event opts)</code></div><pre class="doc">Create a new event.
</pre></div><div class="public" id="var-event-to-json"><h3>event-to-json</h3><div class="usage"><code>(event-to-json event)</code></div><pre class="doc">Convert an event to a JSON string.
</pre></div><div class="public" id="var-linear-time"><h3>linear-time</h3><div class="usage"><code>(linear-time)</code></div><pre class="doc">A current time on a linear scale with no fixed epoch; counts in seconds.
Unlike unix-time, which can pause, skip, or flow backwards, advances
consistently at (close) to wall clock time.</pre></div><div class="public" id="var-member%3F"><h3>member?</h3><div class="usage"><code>(member? r s)</code></div><pre class="doc">Is r present in seqable s?
</pre></div><div class="public" id="var-overlap%3F"><h3>overlap?</h3><div class="usage"><code>(overlap? a b)</code></div><pre class="doc">Do a and b (any seqables) have any elements in common?
</pre></div><div class="public" id="var-post-load-event"><h3>post-load-event</h3><div class="usage"><code>(post-load-event e)</code></div><pre class="doc">Loads a protobuf event to an internal event. Converts the on-the-wire
metric_f to metric, creates a time if none exists, etc.</pre></div><div class="public" id="var-pre-dump-event"><h3>pre-dump-event</h3><div class="usage"><code>(pre-dump-event e)</code></div><pre class="doc">Transforms an event (map) into a form suitable for protocol buffer encoding.
</pre></div><div class="public" id="var-re-matches%3F"><h3>re-matches?</h3><div class="usage"><code>(re-matches? re string)</code></div><pre class="doc">Does the given regex match string? Nil if string is nil.
</pre></div><div class="public" id="var-subset%3F"><h3>subset?</h3><div class="usage"><code>(subset? required s)</code></div><pre class="doc">Are all elements of required present in seqable s?
</pre></div><div class="public" id="var-time-at"><h3>time-at</h3><div class="usage"><code>(time-at unix-time)</code></div><pre class="doc">Returns the Date of a unix epoch time.
</pre></div><div class="public" id="var-unix-time"><h3>unix-time</h3><div class="usage"><code>(unix-time)</code></div><pre class="doc">The current unix epoch time in seconds, taken from System/currentTimeMillis.
</pre></div><div class="public" id="var-unix-to-iso8601"><h3>unix-to-iso8601</h3><div class="usage"><code>(unix-to-iso8601 unix)</code></div><pre class="doc">Transforms unix time to iso8601 string
</pre></div></div></body></html>